<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>声明一个新函数</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section detailing Declare A New Function" />
  <meta name="rh-index-keywords" content="DnD™ Action - Declare A New Function" />
  <meta name="search-keywords" content="Declare A New Function" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>
    <img alt="Declare A New Function Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/i_Common_Declare_Function.png"> 申报一个新的函数</h1>
  <p>这个动作可以用来创建一个新的用户定义的函数，然后可以在你的代码中的任何时候被调用。一个用户定义的函数是你定义的一个任务，它没有被可用的DnD<span class="notranslate">™</span>动作或GML<span class="notranslate">运行</span>器函数所覆盖。
    并且可以是全局的、实例的或局部的范围（关于范围的更多信息，请看<a href="../../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">这里</a>），它们也可以作为<b>构造函数</b>来创建<a href="../../../GameMaker_Language/GML_Overview/Structs.htm">结构</a>。
    要了解更多关于使用该动作创建全局函数的信息，请参见<a href="../../Drag_And_Drop_Overview/Action_Block_Functions.htm">创建动作函数</a>一节。你也可以将该函数标记为<b>静态</b>的。
    这意味着它只在第一次使用时被定义一次。</p>
  <p>要使用这个动作，你可以把它添加到一个实例事件中，然后给你要声明的函数一个名称。然后，你为函数将采取的每个参数提供所需的参数名称。如果该函数将被用作构造函数
    即：它将创建一个结构），那么您需要检查<strong>构造器标志 </strong>，然后调用该函数，您需要使用新建动作。如果该函数只在同一事件中局部使用，而不在其他地方使用，那么您可以使用
    而不是其他地方，那么你也可以选择<strong>Temp </strong>标志。一旦你定义了名称和参数，你就可以在你的代码中添加你希望函数被调用时运行的动作，方法是把它们放到
    动作，如下面的图片所示。</p>
  <p><img alt="Declare A New Function drop actions" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/drop_declare_function.png">你可以看到作为普通函数和构造函数使用的例子
    的例子。</p>
  <p> </p>
  <h4>行动语法。</h4>
  <p><img alt="Declare A New Function Action" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/a_Common_Declare_Function.png" /></p>
  <h4>争论。</h4>
  <table>
    <tbody>
      <tr>
        <th>争论</th>
        <th>描述</th>
      </tr>
      <tr>
        <td>职能</td>
        <td>新函数的名称。</td>
      </tr>
      <tr>
        <td>论据<em>0</em>...论据<em>X</em></td>
        <td>要传递给函数的每个参数的不同参数名称。</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>扩展例1。</h4>
  <p><img alt="Declare A New Function Example 1" class="center" height="491" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_1.png" width="492">上面的动作块代码会在一个实例的<b>创建事件</b>中出现，并声明了一个新的函数<tt>set_vec</tt>，有三个参数。<tt>_x</tt>,<tt>_y</tt>和<tt>spd</tt>。这些参数将被用于该函数所调用的动作中，以设置实例的方向和速度。
    当该函数被调用时。你可以在任何后续事件中使用<a href="Function_Call.htm">函数调用</a>动作来调用该函数，就像这样。</p>
  <p><img alt="Declare A New Function Exmaple 2" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_2.png">该函数被调用，它将实例的方向设置为指向鼠标的X/Y位置。
    鼠标的X/Y位置，并将实例的速度设置为5。</p>
  <p> </p>
  <h4>扩展实例2。</h4>
  <p><img alt="Declare A New Function Exmaple 3" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_3.png">上面的动作块代码可能会放在一个实例的<b>创建事件</b>中。
    中，并声明一个新的构造函数<tt>init_char_struct</tt>，有四个参数。<tt>_str1</tt>,<tt>_str2</tt>,<tt>_val1</tt>和<tt>_val2</tt>。然后，这些参数被用来在函数创建的结构中填充给定的变量
    中的变量。然后，您可以在任何后续事件中使用 "<a href="New.htm">新建</a>"动作来调用该函数，比如说。</p>
  <p><img alt="Declare A New Function Exmaple 4" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_4.png">该函数被调用，它将返回一个新的结构到数组 &quot;char &quot;中。
    该结构将被填充变量 &quot;name&quot;、&quot;location&quot;、&quot;hp &quot;和 &quot;mana&quot;，并设置为函数中相应参数的值。</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">返回。<a href="Common_Actions_Library.htm">共同行动</a></div>
        <div style="float:right">下一步。<a href="Assign_Variable.htm">指派变量</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span>版权所有。2021年 保留所有权利</span></h5>
  </div>
  <!-- KEYWORDS
Action - Declare A New Function
-->
  <!-- TAGS
action_declare_function
-->
</body>
</html>