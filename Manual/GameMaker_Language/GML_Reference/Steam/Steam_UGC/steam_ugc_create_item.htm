<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>steam_ugc_create_item</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="为参考页steam _ugc_create_item" />
  <meta name="rh-index-keywords" content="steam_ugc_create_item,ugc_filetype_community,ugc_filetype_microtrans" />
  <meta name="search-keywords" content="steam_ugc_create_item,ugc_filetype_community,ugc_filetype_microtrans" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1> <span class="notranslate">steam</span> _ugc_create_item</h1><p>此功能用于准备Workshop API并为要添加的项目生成已发布的文件ID。在对要上传的项目执行其他任何操作之前，<i>必须</i>先调用此函数<span class="notranslate">Steam</span>异步事件中返回的唯一已发布ID值进行更新。要使用此功能，您需要<span class="notranslate">Steam</span>应用程序ID，并为游戏使用以下常量之一 <tt>file_type</tt>争论：</p><p></p><table><tbody><tr><th>持续的</th><th>描述</th></tr><tr><td><span class="notranslate">ugc_filetype_community</span></td><td>这用于创建文件，这些文件将被上载并提供给社区中的任何人。</td></tr><tr><td> <span class="notranslate">ugc_filetype_microtrans</span></td><td>这用于描述已上传但仅用于游戏考虑添加为官方内容的文件。</td></tr></tbody></table><p><br/>使用此功能时，它将返回一个异步ID值，然后在<a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/Steam.htm"><span class="notranslate">Steam</span>异步</a>事件以报告该项目的创建时可以对其进行解析。该事件将在以下位置包含以下键/映射值：<a href="../../../GML_Overview/Variables/Builtin_Global_Variables/async_load.htm"><tt>async_load</tt></a> ds_map：</p><ul class="colour"><li> “ <b>id</b> ”-调用函数返回的异步ID</li><li> “ <b>result</b> ”-运算结果（实数值）。这将是<span class="notranslate">GML</span>常数 <tt>ugc_result_success</tt>或其他一些实数。因此，您应该检查该常量，以确保调用成功，否则无法正常进行。返回的其余可能值显示为<span class="notranslate">Steam</span> “ EResult”值的结果，您应该看到 <tt>steamclientpublic.h</tt>在所有89个可能值的SDK标头中。</li><li> “ <b>event_type</b> ”-此键将保存值“ <b>ugc_create_item</b> ”</li><li> “ <b>legal_agreement_required</b> ”-将是 <tt>true</tt>或者 <tt>false</tt>（有关更多详细信息，请参见<a href="https://partner.steamgames.com/documentation/ugc#Legal" target="_blank"><span class="notranslate">Steam</span>文档）</a></li><li> “ <b>published_file_id</b> ”-此键保存该项目的唯一已发布ID，该ID为int64（在后续功能中，使用 <a href="../../Variable_Functions/int64.htm"><tt>int64()</tt></a>功能）</li></ul><p></p><h4>句法：</h4><p class="code">steam_ugc_create_item(consumer_app_id, file_type);</p><table><tbody><tr><th>争论</th><th>描述</th></tr><tr><td><span class="notranslate">consumer_app_id</span></td><td> <span class="notranslate">Steam</span>上您的游戏的唯一应用程序ID。</td></tr><tr><td> <span class="notranslate">file_type</span></td><td>可用的文件类型常量之一（在下面列出）。</td></tr></tbody></table><p></p><h4>返回值：</h4><p class="code">Async ID</p><p></p><h4>扩展示例：</h4><p>在此示例中，我们首先调用该函数并将异步ID值存储在变量中：</p><p class="code">var app_id = steam_get_app_id();<br/> new_item = steam_ugc_create_item(app_id, ugc_filetype_community);</p><p>然后，这将向<span class="notranslate">Steam</span> API发送请求以创建新的Worksop项，从而生成异步事件，我们将按以下方式处理该事件：</p><p class="code">var event_id = async_load[? &quot;id&quot;];<br/> if event_id == new_item<br/>     {
    <br/>     var type = async_load[? &quot;event_type&quot;];<br/>     if type == &quot;ugc_create_item&quot;<br/>         {
    <br/>         global.Publish_ID = async_load[? &quot;published_file_id&quot;];<br/>         }
    <br/>     }
  </p><p>上面的代码检查事件类型，如果它是“ ugc_create_item”，则它将检索已发布的文件ID，并将其存储在全局变量中以备将来参考。 </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">背面： <a href="Steam_UGC.htm">UGC</a></div><div style="float:right">下一个： <a href="steam_ugc_start_item_update.htm"><span class="notranslate">steam</span> _ugc_start_item_update</a></div></div></div><h5> <span data-keyref="Copyright Notice">©版权所有<span class="notranslate">YoYo Games Ltd.</span> 2021保留所有权利</span></h5>
  </div>
  <!-- KEYWORDS
steam_ugc_create_item
ugc_filetype_community
ugc_filetype_microtrans
-->
  <!-- TAGS
steam_ugc_create_item
-->
</body>
</html>