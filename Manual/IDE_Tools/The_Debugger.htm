<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>调试器</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="涵盖调试器的部分。" />
  <meta name="rh-index-keywords" content="调试器,调试器,调试" />
  <meta name="search-keywords" content="调试,调试器,调试模块,调试模式,调试" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1>调试器</h1><p><strong>调试器</strong>是检查游戏的功能强大的工具，对于跟踪代码中的错误和错误以及检查脚本是否在应有的状态下运行以及变量和数组是否包含您期望的值等尤其有用。..您可以通过使用“调试”按钮<span class="notranslate">GameMaker Studio 2</span> <a class="glossterm" data-glossterm="集成开发环境" href="The_Debugger/The_Profiler.htm#">IDE</a>运行游戏来启动调试器<img alt="Debug Icon" class="icon" src="../assets/Images/Icons/Icon_Debug.png"
    />在IDE的顶部，或转到“<a href="../IDE_Navigation/Menus/The_Build_Menu.htm">构建”菜单</a>并选择“<em>调试</em>”。</p><p class="note"><strong>注意</strong><span class="notranslate">Windows</span>防火墙（或您运行的任何其他防火墙程序）可能会提示您为此模块创建安全例外。<strong>您必须执行此操作，否则它将无法正常工作</strong>。这是由于调试器的工作方式，对于调试移动平台至关重要。</p><p>在调试模式下运行游戏时，IDE将显示调试器可用的不同工具：</p><p><img alt="The Debugger Windows" class="center" src="../assets/Images/IDE Tools/Debug_Module.png" />上面显示的图像显示了调试器的默认布局，但是与IDE的其他方面一样，您可以根据需要自定义此布局，关闭不需要的窗口或更改需要的文档和窗口的大小。您可以随时从IDE顶部的“调试器”上下文菜单中重置调试器布局-或重新打开关闭的窗口：</p><p><img alt="Debugger Context Menu" class="center" src="../assets/Images/IDE Tools/Debug_Module_Context_Menu.png" />下面我们解释调试器的每个部分的作用：</p><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#">图表视图</a></p><div class="droptext" data-targetname="drop-down"><p class="dropspot">Graph视图向您显示项目如何使用内存及其随时间变化的帧速率的图形显示：</p><p class="dropspot"><img alt="Debug Graph" class="center" src="../assets/Images/IDE Tools/Debug_Graph.png" />该图显示了当前和平均内存使用量以及一段时间内的当前和平均FPS，您可以使用<img alt="Control Icon"
        class="icon" height="20" src="../assets/Images/Icons/Icon_Ctrl.png" width="55" />/<img alt="CMD Icon" class="icon" height="20" src="../assets/Images/Icons/Icon_Cmd.png" width="55" />以及鼠标滚轮<img alt="MMB Icon" class="icon"
        src="../assets/Images/Icons/Icon_MMB.png" />，如果将鼠标光标放在任何图形元素上，它将在选定点显示该元素的值。</p><p class="dropspot"> Graph视图还将在图形的长度上将某些调试事件显示为点。这些事件由<span class="notranslate">GameMaker Studio 2</span>在游戏运行的某些时候自动生成，以显示特定的重要事件，但是您也可以使用函数添加自己的图形元素<a href="../GameMaker_Language/GML_Reference/Debugging/show_debug_message.htm"><span class="inline">show_debug_message()</span></a>和<a href="../GameMaker_Language/GML_Reference/Debugging/debug_event.htm"><span class="inline">debug_event()</span></a> 。系统事件将以与通过代码触发的事件不同的颜色标记：</p><p class="dropspot"><img alt="Debug Graph Events" class="center" src="../assets/Images/IDE Tools/Debug_Graph_Events.png" />当在调试状态下运行游戏并将鼠标悬停在这些事件上时，将显示该时刻在该事件上触发的所有事件的列表，您可以选择将列表拉出到单独的窗口中，方法是单击“<strong>单击以在新窗口中打开</strong>”文本：</p><p class="dropspot"><img alt="Debug Events" class="center" src="../assets/Images/IDE Tools/Debug_Events.png" /></p><p class="dropspot"></p></div><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#">资源视图</a></p><div class="droptext" data-targetname="drop-down1"><p class="dropspot">资源视图显示了项目中正在使用的所有资源的列表，这些资源可以包含代码或<span class="notranslate">DnD</span>™操作。此部分的工作原理与<a href="../Introduction/The_Asset_Browser.htm">资产浏览器</a>非常相似，您可以在其中展开各项以显示更多信息，例如，特定对象的不同事件。然后您可以双击<img alt="LMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21" /><strong>在“代码视图”</strong>窗口中使用任何资源打开它的代码，您可以在其中检查值并添加或删除<strong>断点</strong>。</p><p class="dropspot"></p></div><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#">调用堆栈</a></p><div class="droptext" data-targetname="drop-down2"><p class="dropspot">此窗口将显示事件的当前调用堆栈，以及正在逐步执行的代码的行号。调用堆栈本质上是“后进先出”数据结构，它显示了从<span class="notranslate">GameMaker Studio 2</span>程序执行的所有游戏代码的顺序（由于调试是使用<a class="glossterm" data-glossterm="虚拟机（VM）" href="#">虚拟机（VM）</a>完成的），也可以根据您的执行顺序为游戏而写。在这里显示任何信息之前，调试器将需要<em>暂停。</em></p><p class="dropspot"></p></div><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down3" href="#">工具列</a></p><div class="droptext" data-targetname="drop-down3"><p class="dropspot">工具栏具有调试器控件以及一些基本信息，例如内存使用情况，游戏的当前（实际）FPS和用于显示调试器当前是否已连接的指示器（连接到正在运行的实例时指示器为绿色）项目的颜色，否则为红色）。可用的控件有： </p><table class="icons" style="margin-left: 32auto"><tbody><tr><td class="icons"><img alt="Play Debug Icon" src="../assets/Images/Icons/Debug_play.png" style="margin-left: 24px;" /></td><td class="text">暂停后，它将重新启动游戏（键盘快捷键“<span class="inline">f5</span> ”）。</td></tr><tr><td class="icons"><img alt="Pause Debug Icon" height="24" src="../assets/Images/Icons/Debug_Pause.png" style="margin-left: 24px;" width="24" /></td><td class="text">这将暂停（中断）游戏。</td></tr><tr><td class="icons"><img alt="Restart Debug Icon" src="../assets/Images/Icons/Debug_Restart.png" style="margin-left: 24px;" /></td><td class="text">重新启动游戏。</td></tr><tr><td class="icons"><img alt="Stop Debug Icon" height="24" src="../assets/Images/Icons/Debug_Stop.png" style="margin-left: 24px;" width="24" /></td><td class="text">停止游戏。</td></tr><tr><td class="icons"><img alt="Step In Debug Icon" src="../assets/Images/Icons/Debug_StepIn.png" style="margin-left: 24px;" /></td><td class="text">进入代码块或脚本（键盘快捷键“<span class="inline">f11</span> ”）。</td></tr><tr><td class="icons"><img alt="Step Over Debug Icon" src="../assets/Images/Icons/Debug_StepOver.png" style="margin-left: 24px;" /></td><td class="text">跳过代码块或脚本（键盘快捷键“<span class="inline">f10</span> ”）。</td></tr><tr><td class="icons"><img alt="Step Out Debug Icon" src="../assets/Images/Icons/Debug_StepOut.png" style="margin-left: 24px;" /></td><td class="text">退出代码块或脚本（键盘快捷键<img alt="Shift Icon" class="icon" height="20" src="../assets/Images/Icons/Icon_Shift.png" width="55" />+“<span class="inline">f11</span> ”）。</td></tr><tr><td class="icons"><img alt="Real Time Debug Icon" src="../assets/Images/Icons/Debug_RealTime.png" style="margin-left: 24px;" /></td><td class="text">打开或关闭调试信息的实时更新（默认情况下处于关闭状态）。</td></tr></tbody></table><p class="dropspot">前三个按钮用于控制游戏，允许您随时<strong>启动</strong>，<strong>暂停</strong>，<strong>重新启动</strong>或<strong>停止</strong>游戏。当游戏暂停时（通过单击“暂停”按钮或从“<strong>断点”开始</strong>），您可以使用三个<strong>步骤</strong>按钮来逐步浏览代码。</p><p class="dropspot">当我们谈论“逐步执行”代码时，仅表示您可以告诉您的游戏运行当前的代码行，然后“逐步执行”至下一个代码行，从而允许您在整个游戏中运行一行代码。您希望的时间。通常你会简单的使用<strong>步骤在</strong>按钮要做到这一点，但你也有一个<strong>跨过</strong>代码和一个用于代码的走出<strong>去</strong>。当您要运行大型脚本时，单步执行非常有用，因为单击此命令将单步运行整个脚本或代码块，然后在下一行停止，而单步执行会使您退出脚本（它们将运行） ，但全部一次），然后在范围更改时停止下一步。</p><p class="dropspot"><strong>实时更新</strong>的最终图标允许调试窗口实时更新其数据，因此您可以看到变量如何更改或实例如何创建和销毁。请注意，这可能会影响游戏性能，并且并非所有信息都是实时可用的。例如，不能实时查看<strong>“渲染状态”</strong>手表（请参见“<a href="The_Debugger/Watches.htm">手表”部分）。</a></p><p class="dropspot"></p></div><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down4" href="#">代码查看</a></p><div class="droptext" data-targetname="drop-down4"><p class="dropspot">在代码视图中，我们可以在项目运行时查看和查看项目中的不同脚本或事件代码。默认情况下，它开始为空，但是您可以双击<img alt="LMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png"
        width="21" /><strong>从资源视图中的</strong>任何资产上打开它。您也可以打开多个不同的事件或脚本，它们将作为顶部的选项卡添加到“代码视图”工作区中。</p><p class="dropspot">在“代码视图”中打开任何代码窗口后，您可以单击鼠标左键<img alt="LMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21" />在装订线（行号所在的位置）中添加或删除<strong>断点</strong>（有关断点的信息，请参阅此页面的下一页）。</p><p class="dropspot">您也可以使用鼠标右键<img alt="RMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_RMB.png" width="21" />打开<strong>上下文菜单</strong>，该菜单还允许您添加或删除断点并将任何选定的代码复制到剪贴板。</p><p class="dropspot"></p></div><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down5" href="#">手表</a></p><div class="droptext" data-targetname="drop-down5"><p class="dropspot">本节致力于“观察”游戏的不同方面，以允许进行更深入和详细的调试。下页将对此进行深入介绍：</p><ul class="dropspotlist"><li class="dropspot"><a href="The_Debugger/Watches.htm">手表</a></li></ul></div><p><br/>重要的是要注意，在游戏运行时，默认情况下不会使用变量值和其他详细信息更新调试窗口，因此您必须首先使用“暂停”按钮<img alt="Pause Debug Icon" class="icon" src="../assets/Images/Icons/Debug_Pause.png"
    />在调试器中可以在本地，全局和其他数据可用之前暂停游戏，或者从顶部的图标启用实时更新<img alt="Real Time Debug Icon" class="icon" src="../assets/Images/Icons/Debug_RealTime.png" />。此规则的唯一例外是“<strong>配置文件”</strong>视图，该视图在启用时独立于实时开关而实时更新，因为它具有自己的“开/关”按钮。您可以从以下页面找到此视图的完整信息：</p><ul class="colour"><li><a href="The_Debugger/The_Profiler.htm">探查器</a></li></ul><p>调试游戏的另一个重要部分是使用<strong>Breakpoints</strong> 。断点是项目代码中希望停止的位置，因此您可以查看发生了什么。在运行调试器的情况下，您可以随时通过单击鼠标左键并在任何代码或脚本块中添加或删除断点。<img alt="LMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21" />在装订线（行号所在的位置）中，或者您可以使用鼠标右键<strong><img alt="RMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_RMB.png" width="21"/></strong>打开<strong>上下文菜单</strong>，它还允许您添加或删除断点：</p><p><img alt="Add/Remove Breakpoints" class="center" src="../assets/Images/IDE Tools/Add_Remove_Breakpoint.gif" />也可以从<span class="notranslate">GameMaker Studio 2</span> IDE中设置断点。编写项目时，可以随时使用<span
      class="inline">f9</span> （或使用鼠标右键）添加或删除它们。<img alt="RMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_RMB.png" width="21" />然后在对象窗口中的操作（对于<span class="notranslate">DnD</span>™用户）上或在代码编辑器窗口中的一行上选择“<strong>切换断点”）。</strong>现在，当您在调试模式下运行游戏时，游戏将在您定义的一个或多个点暂停。</p><p>在IDE中设置的断点将与您的项目一起保存，并将在各种运行过程中保留，直到再次删除为止。但是，如果在调试器中向代码中添加了断点，则在关闭模块或开始新的测试运行后，断点将丢失。请注意，所有断点将显示在“<a href="../Introduction/The_Output_Window.htm">输出”窗口</a>中，可以在其中启用或禁用它们，甚至可以将其删除。 </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">返回：<a href="Additional_IDE_Tools.htm">其他IDE工具</a></div><div style="float:right">下一页：<a href="The_Micro_Web_Server.htm">微型Web服务器</a></div></div></div><h5><span data-keyref="Copyright Notice">©版权所有<span class="notranslate">YoYo Games Ltd.</span> 2021保留所有权利</span></h5>
  </div>
  <!-- KEYWORDS
The Debugger
The Debug Module
Debug Mode
Debugging
Debug
-->
  <!-- TAGS
debug_mode
-->
</body>
</html>