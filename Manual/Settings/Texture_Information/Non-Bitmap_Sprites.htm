<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <title>非位图精灵</title>
  <meta name="topic-status" content="Draft" />
  <link rel="stylesheet" type="text/css" href="../../assets/css/default.css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section explaining non-bitmap sprites in GameMaker" />
  <meta name="search-keywords" content="SWF,Spine,skeleton animation,vector sprites" />
  <meta name="rh-index-keywords" content="Texture Goups - Non-Bitmap Sprites,SWF,Spine" />
</head>
<body>
  <h1>非位图精灵</h1>
  <p><span class="notranslate">GameMaker Studio 2</span>支持以<a class="glossterm" data-glossterm="向量" href="#">矢量</a> <span class="inline">SWF </span>文件或<strong>Spine Skeletal Animation</strong>文件形式的<a class="glossterm" data-glossterm="位图" href="#">非位图</a>精灵。这两种格式都有其优点和缺点，下面两节解释了如何将它们导入<a href="../../The_Asset_Editors/Sprites.htm">精灵编辑器</a>，以及关于如何绘制它们的一些信息。</p>
  <p> </p>
  <h2>骨骼动画精灵（脊柱</h2>
  <p>使用骨架动画制作的精灵，是指已经创建了一个基本的 &quot;骨架&quot;，并使用关键帧使骨架的组成部分随时间而移动的动画。然后，这个骨架从一个<a class="glossterm" data-glossterm="纹理图集" href="#">纹理图集中</a>换上皮肤，并以许多文件类型中的一种导出所产生的动画。<span class="notranslate">GameMaker</span>Studio 2允许你导入这种类型的精灵，只要它被导出为 <span class="inline">*.json</span> 格式的文件，并具有正确的相关纹理图集文件。
    纹理图集文件(<span class="inline">*.atlas</span>)和图像文件(作为 <span class="inline">*.png</span>)<em>在同一目录下</em>。</p>
  <p><img alt="Spine UI" class="center" src="../../assets/Images/Settings/Spine_Example.png">目前<span class="notranslate">GameMaker Studio 2</span> <strong>只能从<a href="http://esotericsoftware.com/">Spine</a></strong>程序制作的JSON格式文件中导入矢量图像。
    但是将它们导入程序的方法与添加普通位图图像的方法几乎相同。要添加一个骨架动画，你需要创建一个新的精灵，这将带来标准的<strong>加载精灵</strong>对话，只是
    这里你需要确保你在底部的文件过滤器中选择了 <span class="inline">*.json</span> 。</p>
  <p><img alt="Import Spine Sprite" class="center" src="../../assets/Images/Settings/Spine_Import.png" /></p>
  <p>点击 &quot;加载 &quot;按钮将把骨架动画<a href="../../Introduction/The_Asset_Browser.htm">作为精灵</a>添加到资产<a href="../../Introduction/The_Asset_Browser.htm">浏览器</a>中，文件处理过程中会显示一个进度条。请注意，根据文件的复杂程度
    文件的复杂性，这可能需要一两分钟。当处理完成后，你将返回到精灵属性对话框，现在看起来像这样。</p>
  <p><img alt="Spine SPrite In The Sprite Editor" class="center" src="../../assets/Images/Settings/Spine_OptionsDisabled.png">一旦你导入了动画，你就可以设置碰撞属性，但注意你在这里只限于使用
    精确碰撞或边界框碰撞，而且骨架动画的碰撞数据是明确地从提供的数据中提取的。如果导入的文件中缺少数据，<span class="notranslate">GameMaker Studio 2</span>就不会生成任何碰撞掩码，这意味着
    如果在用于创建被导入的图像的程序中没有正确设置掩码，你根本不会得到工作的碰撞。</p>
  <p class="note"><strong>注意</strong>：由于骨架动画的复杂性，在精灵编辑器中显示的预览图并不打算准确地表现你的动画，而是给你一个简单的图像，代表动画的可视化
    在房间编辑器中可视化。</p>
  <p>与位图精灵不同，导入的骨架动画精灵<strong>不能</strong>以任何方式<strong>在编辑器中修改</strong>，但在<span class="notranslate">GameMaker语言</span><span class="notranslate">（GML</span>）中，有许多函数可以用来改变皮肤，设置属性。
    和控制动画的其他方面。你也不能为精灵设置任何纹理选项，因为<span class="notranslate">GameMaker</span>会使用由生成精灵的程序所提供的纹理图集。</p>
  <p>在导入骨架动画精灵时，你应该注意一些事情，其中最重要的是，由于技术原因，一些精灵绘制和精灵管理功能不被支持，特别是那些
    绘制函数只绘制精灵的一部分，或以某种方式 &quot;歪斜 &quot;位置（见各个 <a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a>函数
    的确切细节）。)然而，基本的精灵绘制功能和内置的精灵变量都是完全支持的。除了这些函数和变量之外，你还可以使用特殊的 <span class="inline">skeleton_*</span> 函数来设置和改变动画属性，这些函数在 "<a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Skeletal_Animation/Skeletal_Animation.htm">骨骼动画</a>"的参考部分列出并解释。</p>
  <p> </p>
  <p> </p>
  <h2>矢量精灵 (SWF)</h2>
  <p>一般来说，<span class="notranslate">GameMaker</span>中的所有精灵都使用位图，虽然在内容上很灵活，但在内存使用变得难以承受之前，对精灵的大小和帧数都有限制。矢量精灵绕过这些限制
    以不同的方式存储和绘制其内容：它们不是像素网格，在缩放时可能会变得块状或模糊，而是使用矢量数学绘制成三角形，这些三角形可以放大（或缩小）而不失去定义，如下图所示
    如下面的图片。</p>
  <p><img alt="Vector And Bitmap Sprite Comparison" class="center" src="../../assets/Images/Settings/Vector_Compare.png">为了帮助你直观地了解这是如何做到的，下面的图片是同一个矢量消防员精灵，只是现在我们可以看到在GameMaker Studio 2中用来制作图像的多边形。
    用来制作<span class="notranslate">GameMaker Studio 2</span>中的图像。</p>
  <p><img alt="Polygons Of A Vector Sprite" class="center" src="../../assets/Images/Settings/Vector_Polys.png">然而，在游戏编程方面，没有什么是免费的，矢量精灵的权衡是它们比位图精灵更耗费CPU。
    绘制时比位图精灵更耗费CPU，而且这种速度上的差异会随着导入的动画的复杂性增加而增加。另外，与位图精灵不同的是，它们的内存使用受其视觉复杂性的影响。考虑到这一点，它们确实使
    有可能以使用传统位图精灵的方式添加大型动画图形。</p>
  <p>从性能等式的另一面来看，由于矢量精灵只绘制绝对需要的像素（不像位图精灵那样也 &quot;绘制 &quot;图像周围的空白空间），从GPU的角度来看，它们可能更便宜。另外，一般来说
    矢量精灵比其位图精灵小得多--就上面的消防员例子而言，各种精灵类型的尺寸如下。</p>
  <p class="code">70x68的位图=4x70x68字节x12帧=223k<br> 向量=54k</p>
  <p>如果你把精灵的分辨率提高四倍。</p>
  <p class="code">280x272的位图=4x280x272字节x12帧=3570k<br> 向量=54k</p>
  <p>因此，正如你所看到的，通过使用矢量精灵，有可能节省大量的内存，而且我们在未来还有很大的潜力来节省空间。</p>
  <p>目前<span class="notranslate">GameMaker Studio 2</span>对矢量精灵的支持<em>有限 </em>。只能从 <span class="inline">SWF</span> 格式文件中导入矢量图像。将它们导入程序的方法几乎与添加普通的
    位图图像。要添加一个矢量精灵，创建一个新的精灵，这将出现标准的加载精灵对话，但要确保你在底部的文件过滤器中选择了 <span class="inline">*.swf</span> 。</p>
  <p><img alt="Import Vector Image" class="center" src="../../assets/Images/Settings/Import_Vector.png" style="cursor: nwse-resize;">点击 &quot;加载 &quot;按钮将把矢量图像或动画添加到资产<a href="../../Introduction/The_Asset_Browser.htm">浏览器</a>中<a href="../../Introduction/The_Asset_Browser.htm">。</a>
    当文件被处理时，会显示一个进度条。请注意，根据文件的复杂性，这可能需要一段时间（对于更复杂的动画，可能需要一分钟）。当处理完成后，你将返回到精灵属性
    对话，它现在看起来像这样。</p>
  <p><img alt="Disabled Texture Settings" class="center" src="../../assets/Images/Settings/Vector_Spine_Disabled_Options.png">小精灵编辑器不会有太大变化，但现在编辑<strong>图像</strong>按钮已经变灰了，不能点击，因为这种小精灵没有任何位图可供编辑。
    因为在这种精灵中没有任何位图可以编辑。其次，所有的纹理选项也都变成了灰色。SWF精灵是基于数学的，因此通常不会有与之相关的纹理，所以没有任何一个
    可用的选项都不适用于这种精灵。</p>
  <p class="note"><strong>注意</strong>：图像在你选择的预览编辑器中的样子不会与它在你的游戏中的样子相同，也不会与它在精灵编辑器的预览窗口中的样子相同。矢量图像将以其创建时的尺寸被导入。
    这不一定是预览中显示的尺寸（例如，浏览器通常会缩放图像以适应）。</p>
  <p>Sprite Editor的一个新增功能是，你可以使用顶部的<strong>SWF Precision</strong>滑块设置绘制矢量精灵时的<em>质量 </em>。这将简单地减少或增加用于生成精灵的三角形的数量
    - 一般来说，50%左右的数值对大多数游戏来说是足够的--但是如果你使用极端的缩放，或者有性能问题，你应该尝试这个数值。</p>
  <p>在导入矢量精灵时，你应该注意一些事情，其中最重要的是，由于技术原因，一些精灵绘制和精灵管理功能不被支持，特别是那些绘制功能
    特别是那些只绘制精灵的一部分，或以某种方式 &quot;倾斜 &quot;位置的绘制函数（见各个 <a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a>函数
    的确切细节）。)然而，基本的精灵绘制功能和内置的精灵变量一样，都是完全支持的。你还可以为正在绘制的SWF精灵设置不同的<a class="glossterm" data-glossterm="抗锯齿" href="#">抗锯齿</a>（AA）值
    使用函数 <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_enable_swf_aa.htm">draw_enable_swf_aa()</a></span>,<span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_get_swf_aa_level.htm">draw_get_swf_aa_level()</a></span> 或 <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_set_swf_aa_level.htm">draw_set_swf_aa_level()</a></span> ，为正在绘制的SWF精灵设置不同的抗锯齿（AA）值。</p>
  <p>你还应该注意以下几点。</p>
  <ul class="colour">
    <li>当导入一个 <span class="inline">*.SWF</span> 文件时，<em>不 </em>支持Actionscript，所以如果你的SWF依赖它来正常工作，那么它可能不会变成正确的结果。同样地，任何有自己时间线的嵌入式电影片段
      将只在整个动画中显示其第一帧--所有的动画都必须在主时间线上。</li>
    <li>如果你的矢量文件有特别精细的细节，你可能偶尔会发现，在生成的精灵中会出现洞或奇怪的三角形。这是因为在小范围内，几何体有时会坍缩在一起，形成一些不能很好三角化的形状。
      三角形。在这种情况下，你有两个选择--你可以放大矢量文件的内容，这将给导入者更多的发挥空间，或者你可以尝试减少被破坏的对象的细节水平。</li>
    <li><span class="notranslate">GameMaker Studio 2</span>使用SWF的舞台尺寸作为结果精灵的边界。然而，如果你在舞台上有任何东西在这些界限之外，它仍然被画出来。这意味着你应该尽量避免把任何东西放在你的
      如果你不希望它被显示出来，你应该尽量避免把任何东西放在舞台的边界之外，或者使用遮罩层来限制在这个区域内绘制。</li>
    <li>舞台的大小也会影响到生成的任何碰撞遮罩的大小，因此，如果你有一个大的舞台尺寸和你的动画中有很多帧，你就有可能吃掉很多内存。因此，只有在你真的需要时才使用精确的碰撞遮罩。
      真正需要它。</li>
    <li>由于SWF文件是由多个图层创建的，其中一些图层可能会重叠，因此阿尔法的工作方式与位图精灵的工作方式不太一样--重叠的区域看起来不像精灵的其他部分那样透明，因为那里的像素是被多次绘制的。
      被多次画过。</li>
    <li>支持位图填充<em>， </em>但如果你使用平铺的位图填充作为你的SWF文件的一部分，你需要确保位图的大小是2的幂，否则就不能正确平铺。也支持文本渲染，但你需要
      在SWF文件中嵌入字体，这样才能在生成的精灵中显示出来。另外，目前只支持左对齐的单行文字。</li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">返回。<a href="../Texture_Groups.htm">纹理组</a></div>
        <div style="float:right">下一个。<a href="Texture_Pages.htm">纹理页</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span>版权所有。2021年 保留所有权利</span></h5>
  </div>
</body>
</html>