<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <title>非位图精灵</title>
  <meta name="topic-status" content="Draft" />
  <link rel="stylesheet" type="text/css" href="../../assets/css/default.css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="GameMaker非位图精灵" />
  <meta name="search-keywords" content="主权财富基金,脊柱,骨骼动画,矢量精灵" />
  <meta name="rh-index-keywords" content="纹理组-非位图精灵,SWF,脊柱" />
</head>
<body><h1>非位图精灵</h1><p><span class="notranslate">GameMaker Studio 2</span>支持<a class="glossterm" data-glossterm="向量" href="#">矢量</a>形式的<a class="glossterm" data-glossterm="位图" href="#">非位图精灵</a> <span class="inline">SWF </span>文件或<strong>脊椎骨骼动画</strong>文件。这两种格式都有其优缺点，下面的两个部分说明了如何将它们导入<a href="../../The_Asset_Editors/Sprites.htm">Sprite Editor</a> ，以及有关如何绘制的一些信息。</p><p></p><h2>骨骼动画精灵（脊柱）</h2><p>使用骨骼动画制作的精灵是其中一个基本的“骨骼”已创建并使用关键帧进行动画处理以随时间推移移动骨骼组成部分的精灵。<a class="glossterm" data-glossterm="纹理图集"
      href="#">然后从纹理地图集中</a>对该骨骼进行蒙皮，然后将生成的动画导出为许多文件类型之一。 <span class="notranslate">GameMaker</span> Studio 2允许您导入这种类型的精灵，只要已将其导出为 <span class="inline">*.json</span>格式文件，并具有正确关联的纹理图集文件（<span class="inline">*.atlas</span> ）和图片文件（作为 <span class="inline">*.png</span>）<em>在同一目录中</em>。</p><p><img alt="Spine UI" class="center" src="../../assets/Images/Settings/Spine_Example.png" />当前， <span class="notranslate">GameMaker Studio 2</span><strong><a href="http://esotericsoftware.com/">只能从程序Spine生成的</a>JSON格式文件中导入矢量图像</strong>，但是将其导入到程序中的方法几乎与添加普通位图图像的方法相同。要添加骨骼动画，您需要创建一个新的精灵，它将弹出标准的“<strong>加载精灵”</strong>对话框，仅在此处需要确保已选择 <span class="inline">*.json</span>从底部的文件过滤器中：</p><p><img alt="Import Spine Sprite" class="center" src="../../assets/Images/Settings/Spine_Import.png" /></p><p>点击“加载”按钮会将骨骼动画<a href="../../Introduction/The_Asset_Browser.htm">作为精灵添加到资源浏览器</a>，并在处理文件时显示进度条。请注意，根据文件的复杂程度，这可能需要一两分钟。处理完成后，您将返回到sprite属性对话框，如下所示：</p><p><img alt="Spine SPrite In The Sprite Editor" class="center" src="../../assets/Images/Settings/Spine_OptionsDisabled.png" />导入动画后，可以设置碰撞属性，但是请注意，此处仅限于使用精确碰撞或边界框碰撞，并且骨骼动画的碰撞数据是从提供的数据中明确获取的。 <span class="notranslate">GameMaker Studio 2</span>不会生成任何碰撞遮罩，这意味着如果在用于创建要导入的图像的程序中未正确设置遮罩，则根本不会发生工作碰撞。</p><p class="note"><strong>注意</strong>：由于骨骼动画的复杂性，Sprite编辑器中显示的预览图像并非旨在准确地表示您的动画，而是为您提供了一个简单的图像来表示动画，以便在房间编辑器中可视化。</p><p>与位图精灵不同，导入的骨骼动画精灵<strong>无法以任何方式在编辑器</strong><span class="notranslate">GameMaker Language</span> （ <span class="notranslate">GML</span> ）中提供了许多功能，这些功能可用于更改外观，设置属性以及控制游戏的其他方面。动画。您也不能为Sprite设置任何纹理选项，因为<span class="notranslate">GameMaker</span>将使用提供的纹理图集，该纹理图集由生成Sprite的程序制作。</p><p>导入骨骼动画精灵时，您需要注意很多事情，最重要的是，出于技术原因，某些精灵绘图和精灵管理功能不受支持，尤其是那些仅绘制部分动画的绘图功能。精灵，或以某种方式“倾斜”位置（请参见个人<a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a>函数以获取确切的详细信息）。但是，基本的Sprite绘制函数以及内置的Sprite变量都得到完全支持。除了这些函数和变量，您还可以使用特殊设置和更改动画属性。 <span class="inline">skeleton_*</span> <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Skeletal_Animation/Skeletal_Animation.htm">功能，这些功能在“骨骼动画”</a>的参考部分中列出并说明。</p><p></p><p></p><h2>矢量精灵（SWF）</h2><p>通常， <span class="notranslate">GameMaker</span>所有子画面都使用位图，尽管在内容方面很灵活，但在限制内存使用之前，就限制了子画面中可能的帧大小和帧数。矢量精灵通过不同方式存储和绘制内容来解决这些限制：代替矢量像素，它们在缩放时可能会变得块状或模糊，可以使用矢量数学将它们绘制为三角形，并且可以按比例缩放（或缩小）而不会丢失定义，如下图所示：</p><p><img alt="Vector And Bitmap Sprite Comparison" class="center" src="../../assets/Images/Settings/Vector_Compare.png" />为了帮助您直观地了解如何完成此操作，下面的图像仅具有相同的矢量Fireman精灵，现在我们才能在<span class="notranslate">GameMaker Studio 2</span>看到用于制作图像的多边形：</p><p><img alt="Polygons Of A Vector Sprite" class="center" src="../../assets/Images/Settings/Vector_Polys.png" />但是，在编程游戏方面，没有什么是免费的，而矢量子画面的折衷之处在于，与位图子画面相比，矢量子画面的绘制成本更高，并且随着导入动画的复杂性的增加，速度差异也随之增加。此外，与位图精灵不同，它们的内存使用量也受其视觉复杂性的影响。记住，它们确实使以传统位图精灵无法实现的方式添加大型动画图形成为可能。</p><p>在性能方程式的另一面，由于矢量子图形仅绘制绝对需要的像素（与位图子图形也“绘制”图像周围的空白空间不同），从GPU的角度来看，它们可能会更便宜。同样，通常矢量精灵比其位图等效对象小得多-对于上面的消防员示例，各种精灵类型的大小如下：</p><p class="code">Bitmap at 70x68 = 4x70x68 bytes x 12 frames = 223k<br/> Vector = 54k</p><p>如果将精灵的分辨率提高四倍：</p><p class="code">Bitmap at 280x272 = 4x280x272 bytes x 12 frames = 3570k<br/> Vector = 54k</p><p>因此，如您所见，使用矢量精灵可以潜在地节省大量内存，并且我们仍有很大的潜力可以节省未来的空间。</p><p>目前， <span class="notranslate">GameMaker Studio 2</span>对矢量图片的支持<em>有限。</em>并且只能从中导入矢量图像 <span class="inline">SWF</span>格式化文件。将它们导入程序的方式几乎与添加普通位图图像的方式相同。要添加矢量精灵，请创建一个新的精灵，它将弹出标准的“加载精灵”对话框，但请确保已选择 <span class="inline">*.swf</span>从底部的文件过滤器。</p><p><img alt="Import Vector Image" class="center" src="../../assets/Images/Settings/Import_Vector.png" style="cursor: nwse-resize;" />点击“加载”按钮会将矢量图像或动画添加到“<a href="../../Introduction/The_Asset_Browser.htm">资源浏览器”</a> ，并在处理文件时显示进度条。请注意，根据文件的复杂程度，这可能需要一段时间（对于更复杂的动画，可能需要一分钟的时间）。处理完成后，您将返回到sprite属性对话框，如下所示：</p><p><img alt="Disabled Texture Settings" class="center" src="../../assets/Images/Settings/Vector_Spine_Disabled_Options.png" />子画面编辑器不会有太大变化，但是现在“<strong>编辑图像”</strong>按钮已变为灰色，因此无法单击，因为没有任何位图可以在这种子画面中进行编辑。其次，所有纹理选项也都变灰了。 SWF子画面基于数学，因此通常不具有与之关联的纹理，因此所有可用选项均不适用于此类子画面。</p><p class="note"><strong>注意</strong>：图像在所选预览编辑器中的外观将与游戏中的外观不同，在精灵编辑器的预览窗口中的外观也不相同。矢量图像将以其创建时的尺寸导入，这不一定是预览显示时的尺寸（例如，浏览器通常会缩放图像以适合该尺寸）。</p><p> Sprite Editor的一项附加功能是，您可以<strong>使用顶部的SWF Precision</strong>滑块在绘制时<em>设置矢量Sprite的质量。</em>这只会减少或增加用于生成子画面的三角形的数量-通常对于大多数游戏来说，大约50％的值就足够了-但是，如果您使用极端缩放比例或遇到性能问题，则应尝试使用该值。</p><p>导入矢量Sprite时，需要注意很多事情，最重要的是，出于技术原因，某些Sprite绘制和Sprite管理功能不受支持，尤其是那些仅绘制Sprite一部分的绘制函数，或以某种方式“歪曲”头寸（请参见个人<a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a>函数以获取确切的详细信息）。但是，基本的Sprite绘制函数以及内置的Sprite变量都得到完全支持。您还可以使用函数为要绘制的SWF精灵<a class="glossterm" data-glossterm="抗锯齿" href="#">设置不同的抗锯齿（AA）值</a> <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_enable_swf_aa.htm">draw_enable_swf_aa()</a></span>，<span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_get_swf_aa_level.htm">draw_get_swf_aa_level()</a></span>或者 <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_set_swf_aa_level.htm">draw_set_swf_aa_level()</a></span>。</p><p>您还应该注意以下几点：</p><ul class="colour"><li>导入时 <span class="inline">*.SWF</span>文件，<em>不</em>支持Actionscript，因此，如果您的SWF依靠它正常工作，则可能无法正确显示。同样，任何具有自己的时间轴的嵌入式影片剪辑都只会在整个动画中显示其第一帧-所有动画都必须在主时间轴上。</li><li>如果矢量文件的细节特别精细，您可能偶尔会发现在生成的精灵中会出现孔或奇怪的三角形。这是因为在小比例尺上，有时几何形状可能会塌陷在一起，从而形成不能很好地三角剖分的形状。在这种情况下，您有两个选择-您可以按比例放大矢量文件的内容，这将为导入器提供更多的播放空间，或者可以尝试减小损坏对象的详细程度。</li><li> <span class="notranslate">GameMaker Studio 2</span>使用SWF的舞台大小作为生成的精灵的边界。但是，如果您在这些边界之外的舞台上有任何东西，它仍然会被吸引。这意味着，如果您不希望显示任何内容，则应尝试避免将其放置在舞台边界之外，或使用遮罩层将绘图限制在该区域。</li><li>舞台大小还会影响所生成的任何碰撞蒙版的大小，因此，如果舞台大小很大且动画中有很多帧，则可能会占用大量内存。因此，仅在确实需要时才使用精确的碰撞防护罩。</li><li>由于SWF文件是由多层创建的，其中有些可能会重叠，因此alpha不能像使用位图精灵那样完全起作用-重叠的区域看起来不会像精灵的其他部分那样透明，因为存在像素多次绘制。</li><li>位图填充<em>的</em>支持，但如果你使用平铺位图填充为SWF文件的一部分，您需要确保该位是2的幂的两大小，否则将无法正常瓦。还支持文本渲染，但是您需要将字体嵌入到SWF文件中，以使其显示在生成的精灵中。另外，当前仅支持左对齐的单行文本。 </li></ul><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">背面：<a href="../Texture_Groups.htm">纹理组</a></div><div style="float:right">下一页：<a href="Texture_Pages.htm">纹理页面</a></div></div></div><h5><span data-keyref="Copyright Notice">©版权所有<span class="notranslate">YoYo Games Ltd.</span> 2021保留所有权利</span></h5>
  </div>
</body>
</html>